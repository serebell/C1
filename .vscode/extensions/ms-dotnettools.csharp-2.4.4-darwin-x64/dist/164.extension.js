"use strict";exports.id=164,exports.ids=[164],exports.modules={67164:(e,n,t)=>{t.r(n),t.d(n,{AppInsightsCore:()=>Z,BaseCore:()=>q,BaseTelemetryPlugin:()=>O.i,CoreUtils:()=>H.Tr,DiagnosticLogger:()=>v.AQ,ESPromise:()=>X,ESPromiseScheduler:()=>re,EventHelper:()=>ue.zB,EventLatency:()=>s,EventPersistence:()=>f,EventPropertyType:()=>c,EventsDiscardedReason:()=>le.h,FullVersionString:()=>H.vs,InternalAppInsightsCore:()=>R,InternalBaseCore:()=>z,LoggingSeverity:()=>a,MinChannelPriorty:()=>ae,NotificationManager:()=>B,PerfEvent:()=>p.zn,PerfManager:()=>p.Jk,ProcessTelemetryContext:()=>S.Vi,TraceLevel:()=>d,Undefined:()=>fe.jA,Utils:()=>H.cQ,ValueKind:()=>u,ValueSanitizer:()=>oe,Version:()=>H.Gf,_ExtendedInternalMessageId:()=>g,_InternalLogMessage:()=>v.lQ,_InternalMessageId:()=>l,__getRegisteredEvents:()=>se.um,_throwInternal:()=>v.kP,addEventHandler:()=>se.Ib,addEventListeners:()=>se.yw,addPageHideEventListener:()=>se.TJ,addPageShowEventListener:()=>se.nD,addPageUnloadEventListener:()=>se.c9,areCookiesSupported:()=>P.p7,arrForEach:()=>o.tO,arrIndexOf:()=>o.UA,arrMap:()=>o.Mr,arrReduce:()=>o.Xz,attachEvent:()=>se.pZ,cookieAvailable:()=>P.p7,createCookieMgr:()=>P.Nz,createEnumStyle:()=>r.By,createGuid:()=>H.cm,createProcessTelemetryContext:()=>S.CD,createTraceParent:()=>de.SU,createUniqueNamespace:()=>x.J,createUnloadHandlerContainer:()=>N.Y,dateNow:()=>o.m6,deleteCookie:()=>H.kT,detachEvent:()=>se.pD,disableCookies:()=>H.oF,disallowsSameSiteNone:()=>P.UY,doPerf:()=>p.Lm,dumpObj:()=>m.eU,eventOff:()=>se.QY,eventOn:()=>se.XO,extend:()=>H.l7,findW3cTraceParent:()=>de.lq,formatTraceParent:()=>de.aR,generateW3CId:()=>ue.DO,getCommonSchemaMetaData:()=>H.Vv,getConsole:()=>m.dr,getCookie:()=>H.ej,getCookieValue:()=>H.Do,getCrypto:()=>m.MX,getDocument:()=>m.Me,getExceptionName:()=>o.jj,getFieldValueType:()=>H.Sy,getGlobal:()=>h.Rd,getGlobalInst:()=>m.a8,getHistory:()=>m.s1,getIEVersion:()=>m.sA,getISOString:()=>o.Y6,getJSON:()=>m.xA,getLocation:()=>m.k$,getMsCrypto:()=>m.gz,getNavigator:()=>m.jW,getPerformance:()=>m.r,getSetValue:()=>o.qK,getTenantId:()=>H.jM,getTime:()=>H.hK,getWindow:()=>m.Jj,hasDocument:()=>m.Nv,hasHistory:()=>m.fE,hasJSON:()=>m.nS,hasNavigator:()=>m.d6,hasOwnProperty:()=>o.nr,hasWindow:()=>m.Ym,isArray:()=>o.kJ,isArrayValid:()=>H.JT,isBeaconsSupported:()=>m.MF,isBoolean:()=>o.jn,isChromium:()=>H.mJ,isDate:()=>o.J_,isDocumentObjectAvailable:()=>H.x9,isError:()=>o.VZ,isFetchSupported:()=>m.JO,isFunction:()=>o.mf,isIE:()=>m.w1,isLatency:()=>H.r7,isNotTruthy:()=>o.F,isNullOrUndefined:()=>o.le,isNumber:()=>o.hj,isObject:()=>o.Kn,isReactNative:()=>m.b$,isSampledFlag:()=>de.Pn,isString:()=>o.HD,isTruthy:()=>o.fQ,isTypeof:()=>o.Ym,isUint8ArrayAvailable:()=>H.IZ,isUndefined:()=>o.o8,isValidSpanId:()=>de.Lc,isValidTraceId:()=>de.jN,isValidTraceParent:()=>de.J6,isValueAssigned:()=>H.Sn,isValueKind:()=>H.oS,isWindowObjectAvailable:()=>H.dH,isXhrSupported:()=>m.Z3,mergeEvtNamespace:()=>se.jU,newGuid:()=>ue.GW,newId:()=>ce.pZ,normalizeJsName:()=>o.Gf,objCreate:()=>h.pu,objDefineAccessors:()=>o.l_,objForEachKey:()=>o.rW,objFreeze:()=>o.FL,objKeys:()=>o.FY,objSeal:()=>o.Xi,openXhr:()=>H.ot,optimizeObject:()=>o.Ax,parseTraceParent:()=>de.j_,perfNow:()=>ue.Jj,proxyAssign:()=>o.cf,proxyFunctionAs:()=>o.Oi,proxyFunctions:()=>o.Vb,random32:()=>ce._l,randomValue:()=>ce.az,removeEventHandler:()=>se.C1,removeEventListeners:()=>se.nJ,removePageHideEventListener:()=>se.C9,removePageShowEventListener:()=>se.Yl,removePageUnloadEventListener:()=>se.JA,safeGetCookieMgr:()=>P.JP,safeGetLogger:()=>v.vH,sanitizeProperty:()=>H.yj,setCookie:()=>H.d8,setEnableEnvMocks:()=>m.dI,setProcessTelemetryTimings:()=>H.if,setValue:()=>o.sO,strContains:()=>o._Q,strEndsWith:()=>o.Id,strFunction:()=>fe.cb,strObject:()=>fe.fK,strPrototype:()=>fe.hB,strStartsWith:()=>o.xe,strTrim:()=>o.nd,strUndefined:()=>fe.jA,throwError:()=>o._y,toISOString:()=>o.Y6,useXDomainRequest:()=>m.cp});var i=t(27421),r=t(50951),o=t(24869),a=(0,r.By)({CRITICAL:1,WARNING:2}),l=(0,r.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),u=(0,r.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),s=(0,r.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),c=(0,r.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),f=(0,r.By)({Normal:1,Critical:2}),d=(0,r.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),g=(0,o.FL)((0,i.uc)((0,i.uc)({},l),(0,r.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),v=t(29339),p=t(81782),m=t(49251),h=t(30175),y=t(29141),S=t(9951),C=t(69031),P=t(88140),T=t(61733),I=t(28341),A=t(96335),E=500,F="Channel has invalid priority - ";function b(e,n,t,i){n&&(0,o.kJ)(n)&&n.length>0&&(n=n.sort((function(e,n){return e.priority-n.priority})),(0,o.tO)(n,(function(e){e.priority<E&&(0,o._y)(F+e.identifier)})),e.push({queue:(0,o.FL)(n),chain:(0,S.jV)(n,t,i)}))}var O=t(87951),w=function(e){function n(){var t,i,r=e.call(this)||this;function a(){t=0,i=[]}return r.identifier="TelemetryInitializerPlugin",r.priority=199,a(),(0,y.Z)(n,r,(function(e,n){e.addTelemetryInitializer=function(e){var n={id:t++,fn:e};return i.push(n),{remove:function(){(0,o.tO)(i,(function(e,t){if(e.id===n.id)return i.splice(t,1),-1}))}}},e.processTelemetry=function(n,t){for(var r=!1,a=i.length,l=0;l<a;++l){var u=i[l];if(u)try{if(!1===u.fn.apply(null,[n])){r=!0;break}}catch(e){(0,v.kP)(t.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,o.jj)(e),{exception:(0,m.eU)(e)},!0)}}r||e.processNext(n,t)},e[A.Ho]=function(){a()}})),r}return(0,i.ne)(n,e),n}(O.i),x=t(87624),N=t(38593),k="Plugins must provide initialize method",M="_notificationManager",D="SDK is still unloading...",L={loggingLevelConsole:1};function V(e,n){return new p.Jk(n)}function _(e,n){var t=!1;return(0,o.tO)(n,(function(n){if(n===e)return t=!0,-1})),t}var z=function e(){var n,t,r,a,l,u,s,c,f,d,g,m,F,O,z,j,B,R,H,U=0;(0,y.Z)(e,this,(function(e){function y(){n=!1,e.config=(0,o.mm)(!0,{},L),e.logger=new v.AQ(e.config),e._extensions=[],O=new w,t=[],r=null,a=null,l=null,u=null,s=null,f=null,c=[],d=null,g=null,m=null,F=!1,z=null,j=(0,x.J)("AIBaseCore",!0),B=(0,N.Y)(),H=null}function J(){return(0,S.CD)(W(),e.config,e)}function K(n,t){var i=function(e,n,t){var i=[],r={};return(0,o.tO)(t,(function(t){((0,o.le)(t)||(0,o.le)(t.initialize))&&(0,o._y)(k);var a=t.priority,l=t.identifier;t&&a&&((0,o.le)(r[a])?r[a]=l:(0,v.jV)(e,"Two extensions have same priority #"+a+" - "+r[a]+", "+l)),(!a||a<n)&&i.push(t)})),{all:t,core:i}}(e.logger,E,c);f=i.core,s=null;var r=i.all;if(m=(0,o.FL)(function(e,n,t,i){var r=[];if(e&&(0,o.tO)(e,(function(e){return b(r,e,t,i)})),n){var a=[];(0,o.tO)(n,(function(e){e.priority>E&&a.push(e)})),b(r,a,t,i)}return r}(g,r,n,e)),d){var a=(0,o.UA)(r,d);-1!==a&&r.splice(a,1),-1!==(a=(0,o.UA)(f,d))&&f.splice(a,1),d._setQueue(m)}else d=function(e,n){var t;function i(){return(0,S.CD)(null,n.config,n,null)}function r(e,n,t,i){var r=e?e.length+1:1;function a(){0==--r&&(i&&i(),i=null)}r>0&&(0,o.tO)(e,(function(e){if(e&&e.queue.length>0){var i=e.chain,o=n.createNew(i);o.onComplete(a),t(o)}else r--})),a()}var a=!1,l=(t={identifier:"ChannelControllerPlugin",priority:E,initialize:function(n,t,i,r){a=!0,(0,o.tO)(e,(function(e){e&&e.queue.length>0&&(0,C.bP)((0,S.CD)(e.chain,n,t),i)}))},isInitialized:function(){return a},processTelemetry:function(n,t){r(e,t||i(),(function(e){e[A.Z_](n)}),(function(){t[A.Z_](n)}))},update:function(n,t){var i=t||{reason:0};return r(e,n,(function(e){e[A.Z_](i)}),(function(){n[A.Z_](i)})),!0}},t[A.nE]=function(){r(e,i(),(function(e){e.iterate((function(e){e[A.nE]&&e[A.nE]()}))}),null)},t[A.Mf]=function(){r(e,i(),(function(e){e.iterate((function(e){e[A.Mf]&&e[A.Mf]()}))}),null)},t[A.vE]=function(n,t){var i=t||{reason:0,isAsync:!1};return r(e,n,(function(e){e[A.Z_](i)}),(function(){n[A.Z_](i),a=!1})),!0},t.getChannel=function(n){var t=null;return e&&e.length>0&&(0,o.tO)(e,(function(e){if(e&&e.queue.length>0&&((0,o.tO)(e.queue,(function(e){if(e.identifier===n)return t=e,-1})),t))return-1})),t},t.flush=function(n,t,o,a){var l=1,u=!1,s=null;function c(){l--,u&&0===l&&(s&&(clearTimeout(s),s=null),t&&t(u),t=null)}return a=a||5e3,r(e,i(),(function(e){e.iterate((function(e){if(e.flush){l++;var t=!1;e.flush(n,(function(){t=!0,c()}),o)||t||(n&&null==s?s=setTimeout((function(){s=null,c()}),a):c())}}))}),(function(){u=!0,c()})),!0},t._setQueue=function(n){e=n},t);return l}(m,e);r.push(d),f.push(d),e._extensions=(0,C.AA)(r),d.initialize(n,e,r),(0,C.bP)(J(),r),e._extensions=(0,o.FL)((0,C.AA)(f||[])).slice(),t&&function(n){var t=(0,S.xy)(W(),e);e._updateHook&&!0===e._updateHook(t,n)||t.processNext(n)}(t)}function Z(n){var t=null,i=null;return(0,o.tO)(e._extensions,(function(e){if(e.identifier===n&&e!==d&&e!==O)return i=e,-1})),!i&&d&&(i=d.getChannel(n)),i&&(t={plugin:i,setEnabled:function(e){(0,C.OY)(i)[A.C0]=!e},isEnabled:function(){var e=(0,C.OY)(i);return!e[A.vE]&&!e[A.C0]},remove:function(n,t){void 0===n&&(n=!0);var r=[i];q(r,{reason:1,isAsync:n},(function(n){n&&K(e.config,{reason:32,removed:r}),t&&t(n)}))}}),t}function W(){if(!s){var n=(f||[]).slice();-1===(0,o.UA)(n,O)&&n.push(O),s=(0,S.jV)((0,C.AA)(n),e.config,e)}return s}function q(n,t,i){if(n&&n.length>0){var r=(0,S.jV)(n,e.config,e),a=(0,S.Bt)(r,e);a.onComplete((function(){var e=!1,t=[];(0,o.tO)(c,(function(i,r){_(i,n)?e=!0:t.push(i)})),c=t;var r=[];g&&((0,o.tO)(g,(function(t,i){var a=[];(0,o.tO)(t,(function(t){_(t,n)?e=!0:a.push(t)})),r.push(a)})),g=r),i&&i(e)})),a.processNext(t)}else i(!1)}function Q(){var n=e.logger?e.logger.queue:[];n&&((0,o.tO)(n,(function(n){var t={name:z||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:(0,o.Y6)(new Date),baseType:v.lQ.dataType,baseData:{message:n.message}};e.track(t)})),n.length=0)}function G(e,n,t,i){return d?d.flush(e,n,t||6,i):(n&&n(!1),!0)}function X(n){var t=e.logger;t?(0,v.kP)(t,2,73,n):(0,o._y)(n)}y(),e.isInitialized=function(){return n},e.initialize=function(t,a,u,s){F&&(0,o._y)(D),e.isInitialized()&&(0,o._y)("Core should not be initialized more than once"),t&&!(0,o.le)(t.instrumentationKey)||(0,o._y)("Please provide instrumentation key"),r=s,e[M]=s,e.config=t||{},function(e){!0===e.disableDbgExt&&R&&(r[A.XP](R),R=null),r&&!R&&!0!==e.disableDbgExt&&(R=(0,I.p)(e),r[A.dV](R))}(t),function(n){!n.enablePerfMgr&&l&&(l=null),n.enablePerfMgr&&(0,o.sO)(e.config,"createPerfMgr",V)}(t),t.extensions=(0,o.le)(t.extensions)?[]:t.extensions,function(e){(0,o.qK)(e,T.F).NotificationManager=r}(t),u&&(e.logger=u),(c=[]).push.apply(c,(0,i.$h)((0,i.$h)([],a,!1),t.extensions,!1)),g=(t||{}).channels,K(t,null),m&&0!==m.length||(0,o._y)("No channels available"),n=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return m&&(0,o.tO)(m,(function(n){e.push(n.queue)})),(0,o.FL)(e)},e.track=function(n){(0,o.sO)(n,T.z,e.config.instrumentationKey,null,o.F),(0,o.sO)(n,"time",(0,o.Y6)(new Date),null,o.F),(0,o.sO)(n,"ver","4.0",null,o.le),!F&&e.isInitialized()?J().processNext(n):t.push(n)},e.getProcessTelContext=J,e.getNotifyMgr=function(){var n;return r||(r=(0,h.pu)(((n={})[A.dV]=function(e){},n[A.XP]=function(e){},n[A.eO]=function(e){},n[A.H4]=function(e,n){},n[A.rX]=function(e,n){},n)),e[M]=r),r},e[A.dV]=function(e){r&&r[A.dV](e)},e[A.XP]=function(e){r&&r[A.XP](e)},e.getCookieMgr=function(){return u||(u=(0,P.Nz)(e.config,e.logger)),u},e.setCookieMgr=function(e){u=e},e.getPerfMgr=function(){return a||l||e.config&&e.config.enablePerfMgr&&(0,o.mf)(e.config.createPerfMgr)&&(l=e.config.createPerfMgr(e,e.getNotifyMgr())),a||l||(0,p.j5)()},e.setPerfMgr=function(e){a=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){if(n&&t.length>0){var e=t;t=[],(0,o.tO)(e,(function(e){J().processNext(e)}))}},e.pollInternalLogs=function(n){z=n||null;var t=e.config.diagnosticLogInterval;return t&&t>0||(t=1e4),U&&clearInterval(U),U=setInterval((function(){Q()}),t)},e.stopPollingInternalLogs=function(){U&&(clearInterval(U),U=0,Q())},(0,o.Vb)(e,(function(){return O}),["addTelemetryInitializer"]),e.unload=function(t,i,r){void 0===t&&(t=!0),n||(0,o._y)("SDK is not initialized"),F&&(0,o._y)(D);var a={reason:50,isAsync:t,flushComplete:!1},l=(0,S.Bt)(W(),e);function u(n){a.flushComplete=n,F=!0,B.run(l,a),e.stopPollingInternalLogs(),l.processNext(a)}l.onComplete((function(){y(),i&&i(a)}),e),G(t,u,6,r)||u(!1)},e.getPlugin=Z,e.addPlugin=function(n,t,i,r){if(!n)return r&&r(!1),void X(k);var o=Z(n.identifier);if(o&&!t)return r&&r(!1),void X("Plugin ["+n.identifier+"] is already loaded!");var a={reason:16};function l(t){c.push(n),a.added=[n],K(e.config,a),r&&r(!0)}if(o){var u=[o.plugin];q(u,{reason:2,isAsync:!!i},(function(e){e?(a.removed=u,a.reason|=32,l()):r&&r(!1)}))}else l()},e.evtNamespace=function(){return j},e.flush=G,e.getTraceCtx=function(e){return H||(H=(0,C.Yn)()),H},e.setTraceCtx=function(e){H=e||null},(0,o.Oi)(e,"addUnloadCb",(function(){return B}),"add")}))};function j(e,n,t,i){(0,o.tO)(e,(function(e){if(e&&e[n])if(t)setTimeout((function(){return i(e)}),0);else try{i(e)}catch(e){}}))}var B=function e(n){this.listeners=[];var t=!!(n||{}).perfEvtsSendAll;(0,y.Z)(e,this,(function(e){e[A.dV]=function(n){e.listeners.push(n)},e[A.XP]=function(n){for(var t=(0,o.UA)(e.listeners,n);t>-1;)e.listeners.splice(t,1),t=(0,o.UA)(e.listeners,n)},e[A.eO]=function(n){j(e.listeners,A.eO,!0,(function(e){e[A.eO](n)}))},e[A.H4]=function(n,t){j(e.listeners,A.H4,!0,(function(e){e[A.H4](n,t)}))},e[A.rX]=function(n,t){j(e.listeners,A.rX,t,(function(e){e[A.rX](n,t)}))},e[A.SN]=function(n){n&&(!t&&n.isChildEvt()||j(e.listeners,A.SN,!1,(function(e){n.isAsync?setTimeout((function(){return e[A.SN](n)}),0):e[A.SN](n)})))}}))},R=function(e){function n(){var t=e.call(this)||this;return(0,y.Z)(n,t,(function(e,n){function t(n){var t=e.getNotifyMgr();t&&t.eventsDiscarded([n],2)}e.initialize=function(e,t,i,r){n.initialize(e,t,i||new v.AQ(e),r||new B(e))},e.track=function(i){(0,p.Lm)(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===i&&(t(i),(0,o._y)("Invalid telemetry item")),function(e){(0,o.le)(e.name)&&(t(e),(0,o._y)("telemetry name required"))}(i),n.track(i)}),(function(){return{item:i}}),!i.sync)}})),t}return(0,i.ne)(n,e),n}(z),H=t(65705),U="version",J="properties",K=function(e){function n(){var t=e.call(this)||this;return t.pluginVersionStringArr=[],t.pluginVersionString="",(0,y.Z)(n,t,(function(e,n){e.logger&&e.logger.queue||(e.logger=new v.AQ({loggingLevelConsole:1})),e.initialize=function(t,i,r,a){(0,p.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(t){t.endpointUrl||(t.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var l=t.propertyStorageOverride;if(l&&(!l.getProperty||!l.setProperty))throw new Error("Invalid property storage override passed.");t.channels&&(0,o.tO)(t.channels,(function(n){n&&(0,o.tO)(n,(function(n){if(n.identifier&&n.version){var t=n.identifier+"="+n.version;e.pluginVersionStringArr.push(t)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&(0,o.tO)(i,(function(n){if(n&&n.identifier&&n.version){var t=n.identifier+"="+n.version;e.pluginVersionStringArr.push(t)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{n.initialize(t,i,r,a),e.pollInternalLogs("InternalLog")}catch(n){var u=e.logger,s=(0,m.eU)(n);-1!==s.indexOf("channels")&&(s+="\n - Channels must be provided through config.channels only!"),u.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+s)}}),(function(){return{config:t,extensions:i,logger:r,notificationManager:a}}))},e.track=function(t){(0,p.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var i=t;if(i){i.timings=i.timings||{},i.timings.trackStart=(0,H.hK)(),(0,H.r7)(i.latency)||(i.latency=1);var r=i.ext=i.ext||{};r.sdk=r.sdk||{},r.sdk.ver=H.vs;var o=i.baseData=i.baseData||{};o[J]||(o[J]={});var a=o[J];a[U]||(a[U]=""),""!==e.pluginVersionString&&(a[U]=e.pluginVersionString)}n.track(i)}),(function(){return{item:t}}),!t.sync)}})),t}return(0,i.ne)(n,e),n}(R);const Z=K;var W=function(e){function n(){var t=e.call(this)||this;return(0,y.Z)(n,t,(function(e,n){e.initialize=function(t,i,r,o){t&&!t.endpointUrl&&(t.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),e.getWParam=function(){return H.x9?0:-1};try{n.initialize(t,i,r,o)}catch(n){(0,v.kP)(e.logger,1,514,"Initialization Failed: "+(0,m.eU)(n)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var t=e;if(t){var i=t.ext=t.ext||{};i.sdk=i.sdk||{},i.sdk.ver=H.vs}n.track(t)}})),t}return(0,i.ne)(n,e),n}(z);const q=W;var Q=o.mf;function G(e,n,t){return function(i){e[n]=i,t()}}const X=function(){function e(n){var t=0,i=null,r=[];function o(){if(r.length>0){var e=r.slice();r=[],setTimeout((function(){for(var n=0,t=e.length;n<t;++n)try{e[n]()}catch(e){}}),0)}}function a(e){0===t&&(i=e,t=1,o())}function l(e){0===t&&(i=e,t=2,o())}(0,y.Z)(e,this,(function(n){n.then=function(n,a){return new e((function(l,u){!function(n,a,l,u){r.push((function(){var r;try{(r=1===t?Q(n)?n(i):i:Q(a)?a(i):i)instanceof e?r.then(l,u):2!==t||Q(a)?l(r):u(r)}catch(e){return void u(e)}})),0!==t&&o()}(n,a,l,u)}))},n.catch=function(e){return n.then(null,e)}})),function(){if(!Q(n))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{n(a,l)}catch(e){l(e)}}()}return e.resolve=function(n){return n instanceof e?n:n&&Q(n.then)?new e((function(e,t){try{n.then(e,t)}catch(e){t(e)}})):new e((function(e){e(n)}))},e.reject=function(n){return new e((function(e,t){t(n)}))},e.all=function(n){if(n&&n.length)return new e((function(e,t){try{for(var i=[],r=0,o=0;o<n.length;o++){var a=n[o];a&&Q(a.then)?(r++,a.then(G(i,o,(function(){0==--r&&e(i)})),t)):i[o]=a}0===r&&setTimeout((function(){e(i)}),0)}catch(e){t(e)}}))},e.race=function(n){return new e((function(e,t){if(n&&n.length)try{for(var i=function(i){var r=n[i];r&&Q(r.then)?r.then(e,t):setTimeout((function(){e(r)}),0)},r=0;r<n.length;r++)i(r)}catch(e){t(e)}}))},e}();var Y=6e5,$=0,ee=[],ne=[],te=[];function ie(){return(new Date).getTime()}const re=function(){function e(n,t){var i=0,r=(n||"<unnamed>")+"."+$;function o(e){var n=(0,h.Rd)();n&&n.QUnit&&console&&console.log("ESPromiseScheduler["+r+"] "+e)}function a(e){t&&t.warnToConsole("ESPromiseScheduler["+r+"] "+e)}$++,(0,y.Z)(e,this,(function(e){var n=null,t=0;function l(e,n){for(var t=0;t<e.length;t++)if(e[t].id===n)return e.splice(t,1)[0];return null}e.scheduleEvent=function(e,u,s){var c=r+"."+t;t++,u&&(c+="-("+u+")");var f=c+"{"+i+"}";i++;var d,g,v,p={evt:null,tm:ie(),id:f,isRunning:!1,isAborted:!1};return p.evt=n?(d=p,g=n,v=new X((function(e,n){var t=ie()-g.tm,i=g.id;o("["+c+"] is waiting for ["+i+":"+t+" ms] to complete before starting -- ["+ne.length+"] waiting and ["+ee.length+"] running"),d.abort=function(e){d.abort=null,l(ne,c),d.isAborted=!0,n(new Error(e))},g.evt.then((function(t){l(ne,c),P(d).then(e,n)}),(function(t){l(ne,c),P(d).then(e,n)}))})),ne.push(d),v):P(p),(n=p).evt._schId=f,p.evt;function m(e){for(var n=ie(),t=n-Y,i=e.length,r=0;r<i;){var o=e[r];if(o&&o.tm<t){var l=null;o.abort?(l="Aborting ["+o.id+"] due to Excessive runtime ("+(n-o.tm)+" ms)",o.abort(l)):l="Removing ["+o.id+"] due to Excessive runtime ("+(n-o.tm)+" ms)",a(l),e.splice(r,1),i--}else r++}}function h(e,t){var i=!1,r=l(ee,e);if(r||(r=l(te,e),i=!0),r){r.to&&(clearTimeout(r.to),r.to=null);var u=ie()-r.tm;t?i?a("Timed out event ["+e+"] finally complete -- "+u+" ms"):o("Promise ["+e+"] Complete -- "+u+" ms"):(te.push(r),a("Event ["+e+"] Timed out and removed -- "+u+" ms"))}else o("Failed to remove ["+e+"] from running queue");n&&n.id===e&&(n=null),m(ee),m(ne),m(te)}function y(e,n){return function(t){return h(e,!0),n&&n(t),t}}function S(e,n,t,i){n.then((function(n){return n instanceof X?(o("Event ["+e+"] returned a promise -- waiting"),S(e,n,t,i),n):y(e,t)(n)}),y(e,i))}function C(e,n){var t=e.id;return new X((function(i,r){o("Event ["+t+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(n){e.abort=null,e.isAborted=!0,h(t,!1),r(new Error(n))};var a=n(t);a instanceof X?(s&&(e.to=setTimeout((function(){h(t,!1),r(new Error("Timed out after ["+s+"] ms"))}),s)),S(t,a,(function(n){o("Event ["+t+"] Resolving after "+(ie()-e.tm)+" ms"),i(n)}),r)):(o("Promise ["+t+"] Auto completed as the start action did not return a promise"),i())}))}function P(n){var t=ie();return n.wTm=t-n.tm,n.tm=t,n.isAborted?X.reject(new Error("["+c+"] was aborted")):(ee.push(n),C(n,e))}}}))}return e.incomplete=function(){return ee},e.waitingToStart=function(){return ne},e}();var oe=function(){function e(e){var n=this,t={},i=[],r=[];function a(e,n){var a,l=t[e];if(l&&(a=l[n]),!a&&null!==a){if((0,o.HD)(e)&&(0,o.HD)(n))if(r.length>0){for(var u=0;u<r.length;u++)if(r[u].handleField(e,n)){a={canHandle:!0,fieldHandler:r[u]};break}}else 0===i.length&&(a={canHandle:!0});if(!a&&null!==a)for(a=null,u=0;u<i.length;u++)if(i[u].handleField(e,n)){a={canHandle:!0,handler:i[u],fieldHandler:null};break}l||(l=t[e]={}),l[n]=a}return a}function l(e,n,t,i,r,a){if(e.handler)return e.handler.property(n,t,r,a);if(!(0,o.le)(r.kind)){if(4096==(4096&i)||!(0,H.oS)(r.kind))return null;r.value=r.value.toString()}return s(e.fieldHandler,n,t,i,r)}function u(e,n,t){return(0,H.Sn)(t)?{value:t}:null}function s(e,t,i,r,a){if(a&&e){var l=e.getSanitizer(t,i,r,a.kind,a.propertyType);if(l)if(4===r){var c={},f=a.value;(0,o.rW)(f,(function(n,r){var o=t+"."+i;if((0,H.Sn)(r)){var a=u(0,0,r);(a=s(e,o,n,(0,H.Sy)(r),a))&&(c[n]=a.value)}})),a.value=c}else{var d={path:t,name:i,type:r,prop:a,sanitizer:n};a=l.call(n,d)}}return a}e&&r.push(e),n.addSanitizer=function(e){e&&(i.push(e),t={})},n.addFieldSanitizer=function(e){e&&(r.push(e),t={})},n.handleField=function(e,n){var t=a(e,n);return!!t&&t.canHandle},n.value=function(e,n,t,i){var r=a(e,n);if(r&&r.canHandle){if(!r||!r.canHandle)return null;if(r.handler)return r.handler.value(e,n,t,i);if(!(0,o.HD)(n)||(0,o.le)(t)||""===t)return null;var s=null,c=(0,H.Sy)(t);if(8192==(8192&c)){var f=-8193&c;if(s=t,!(0,H.Sn)(s.value)||1!==f&&2!==f&&3!==f&&4096!=(4096&f))return null}else 1===c||2===c||3===c||4096==(4096&c)?s=u(0,0,t):4===c&&(s=u(0,0,i?JSON.stringify(t):t));if(s)return l(r,e,n,c,s,i)}return null},n.property=function(e,n,t,i){var r=a(e,n);if(!r||!r.canHandle)return null;if(!(0,o.HD)(n)||(0,o.le)(t)||!(0,H.Sn)(t.value))return null;var u=(0,H.Sy)(t.value);return 0===u?null:l(r,e,n,u,t,i)}}return e.getFieldType=H.Sy,e}(),ae=100,le=t(28452),ue=t(28956),se=t(47954),ce=t(19406),fe=t(1550),de=t(56207)}};
//# sourceMappingURL=164.extension.js.map